π“— μ¤ν”„λ§ Spring
================
<hr />

> μ¤ν”„λ§ μ΄μ μ™€ μ›λ¦¬μ— λ€ν•΄ κ³µλ¶€ν•κ³  κ°μ²΄μ§€ν–¥ μ„¤κ³„λ¥Ό κ³ λ―Όν•λ” κ°λ°μκ°€ λμ!

<br />

#### μ£Όλ¬Έ λ„λ©”μΈ μ „μ²΄ κ·Έλ¦Ό

<img width="862" alt="α„α…¥α†«α„α…¦α„€α…³α„…α…µα†·" src="https://user-images.githubusercontent.com/68539040/182746470-66caf457-020c-442c-b3d8-a15235c0d56b.png">

- ```#1``` λ¬Έμ μ  λ°κ²¬
    + DIP μ„λ°. ```OrderServiceImpl```μ€ ```DiscountPolicy``` μΈν„°νμ΄μ¤μ—λ„ μμ΅΄ν•κ³ , κµ¬ν„ ν΄λμ¤μΈ  ```FixDiscountPolicy```
      μ™€ ```RateDiscountPolicy```μ—λ„ μμ΅΄ν•κ³  μλ‹¤.
    + OCP μ„λ°. ```FixDiscountPolicy```λ¥Ό ```RateDiscountPolicy```λ΅ λ³€κ²½ν•λ” μκ°„ ```OrderServiceImpl```μ½”λ“λ„ λ³€κ²½ν•΄μ•Ό ν•λ‹¤. μ§€κΈ μ½”λ“λ” κΈ°λ¥μ„
      ν™•μ¥ν•λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μν–¥μ„ μ£ΌκΈ° λ•λ¬Έμ— OCPλ¥Ό μ„λ°ν•¨. <br />
      μ΄μ— λ€ν• ν•΄κ²°μ±…μΌλ΅ μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•κ² ν•κΈ° μ„ν•΄, ```OrderServiceImpl``` μ½”λ“λ¥Ό μ•„λμ²λΌ λ°”κΏ¨λ‹¤.  <br />
      (κΈ°μ΅΄) ``` private final DiscountPolicy discountPolicy = new RateDiscountPolicy();``` <br />
      (λ³€κ²½) ``` private DiscountPolicy discountPolicy; ``` <br />
      ν•μ§€λ§ μ΄λ ‡κ² ν•λ©΄ λ‹Ήμ—°ν κ°μ²΄ μƒμ„±λκ² μ—†κΈ° λ•λ¬Έμ—.. nullpointerexceptionμ΄ ν„°μ§„λ‹¤. AppConfig ν΄λμ¤λ¥Ό μƒμ„±ν•΄ DI(μμ΅΄κ΄€κ³„ μ£Όμ…)λ΅ ν•΄κ²°ν•λ‹¤. <br /><br />
- ν•΄κ²° : ```AppConfig```λ¥Ό ν†µν•΄ μ½”λ“ λ¶„λ¦¬.(κ΄€μ‹¬μ‚¬ λ¶„λ¦¬) ```AppConfig```κ°€ κµ¬ν„ν΄λμ¤λ¥Ό μ„ νƒν•΄ μ£Όκ² λμ—κΈ° λ•λ¬Έμ—, μ΄μ  ```OrderServiceImpl```λ” κΈ°λ¥μ„ μ‹¤ν–‰ν•λ”
  μ±…μ„λ§ μ§€λ©΄ λλ‹¤. <hr />


- ```#2``` λ¬Έμ μ  λ°κ²¬

- ν•΄κ²° : ```AppConfig```μ— μ¤‘λ³µ λμ—λ```new MemberRepository()```λ¶€λ¶„μ„ λ¶„λ¦¬. μ΄μ  λ‹¤λ¥Έ κµ¬ν„μ²΄λ΅ λ³€κ²½ν•  λ• μ΄ λ¶€λ¶„λ§ λ³€κ²½ν•λ©΄ λλ‹¤. λ μ—­ν• κ³Ό κµ¬ν„ ν΄λμ¤κ°€ ν• λμ—
  λ“¤μ–΄μ™€μ„ μ• ν”λ¦¬μΌ€μ΄μ… μ „μ²΄ κµ¬μ„±μ„ νμ•…ν•κΈ° μΆ‹μ•„μ΅λ‹¤. <hr />

### μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™ μ μ©

μ—¬κΈ°μ„ 3κ°€μ§€ (SRP, DIP, OCP) μ μ©.

1. SRP λ‹¨μΌ μ±…μ„ μ›μΉ™ "ν• ν΄λμ¤λ” ν•λ‚μ μ±…μ„λ§"

- ν΄λΌμ΄μ–ΈνΈ κ°μ²΄λ” μ§μ ‘ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±, μ—°κ²°, μ‹¤ν–‰ν•λ” λ‹¤μ–‘ν• μ±…μ„μ„ κ°€μ§€κ³  μμ.
- SRP λ‹¨μΌ μ±…μ„ μ›μΉ™μ„ λ”°λ¥΄λ©΄μ„ κ΄€μ‹¬μ‚¬λ¥Ό λ¶„λ¦¬ν•¨.
- κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ±…μ„μ€ AppConfigκ°€ λ‹΄λ‹Ή.
- ν΄λΌμ΄μ–ΈνΈ κ°ν…λ” μ‹¤ν–‰ν•λ” μ±…μ„λ§ λ‹΄λ‹Ή.

2. DIP μμ΅΄κ΄€κ³„ μ—­μ „ "ν”„λ΅κ·Έλλ¨Έλ” μ¶”μƒν™”μ— μμ΅΄ν•΄μ•Όμ§€, κµ¬μ²΄ν™”μ— μμ΅΄ν•λ©΄ μ•λλ‹¤. μμ΅΄μ„± μ£Όμ…μ€ μ΄ μ›μΉ™μ„ λ”°λ¥΄λ” λ°©λ²• μ¤‘ ν•λ‚"

- μƒλ΅μ΄ ν• μΈ μ •μ±…μ„ κ°λ°ν•κ³ , μ μ©ν•λ ¤κ³  ν•λ‹ ν΄λΌμ΄μ–΄λ© μ½”λ“λ„ λ³€κ²½ν•΄μ•Ό ν–λ‹¤. μ™λƒν•λ©΄ κΈ°μ΅΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“(```OrderServiceImpl```)μ€ DIPλ¥Ό μ§€ν‚¤λ©΄μ„ ```DiscountPolicy```
  μ¶”μƒν™” μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ” κ²ƒ κ°™μ•μ§€λ§, ```FixDiscountPolicy```κµ¬μ²΄ν™” κµ¬ν„ μ„λΉ„μ¤μ—λ„ ν•¨κ» μμ΅΄ν–λ‹¤.
- ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ ```DiscountPolicy```μ¶”μƒν™” μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ„λ΅ μ½”λ“λ¥Ό λ³€κ²½ν–λ‹¤.
- AppConfigκ°€ ```FixDiscountPolicy``` κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό ν΄λΌμ΄μ–ΈνΈ μ½”λ“ λ€μ‹  ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…ν•¨. μ΄λ ‡κ² DIP μ›μΉ™μ„ λ”°λ¥΄λ©΄μ„ λ¬Έμ λ„ ν•΄κ²°ν•¨.


3. OCP "μ†ν”„νΈμ›¨μ–΄ μ”μ†λ” ν™•μ¥μ—λ” μ—΄λ ¤ μμΌλ‚ λ³€κ²½μ—λ” λ‹«ν€ μμ–΄μ•Ό ν•λ‹¤."

- λ‹¤ν•μ„±μ„ μ‚¬μ©ν•κ³  ν΄λΌμ΄μ–ΈνΈκ°€ DIPλ¥Ό μ§€ν‚΄.
- μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‚¬μ© μμ—­κ³Ό κµ¬μ„± μμ—­μΌλ΅ λ‚λ”.
- AppConfigκ°€ μμ΅΄κ΄€κ³„λ¥Ό ```FixDiscountPolicy```->```RateDiscountPolicy```λ΅ λ³€κ²½ν•΄μ„ ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μ£Όμ…ν•λ―€λ΅ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ” λ³€κ²½ν•μ§€ μ•μ•„λ„ λ¨. <br />
  μ¦‰, μ†ν”„νΈμ›¨μ–΄ μ”μ†λ¥Ό μƒλ΅­κ² ν™•μ¥ν•΄λ„ μ‚¬μ© μμ—­μ λ³€κ²½μ€ λ‹«ν€μλ‹¤. (λ³€κ²½ν•  ν•„μ”X)

<hr />

### IoC, DI, μ»¨ν…μ΄λ„

1. μ μ–΄μ μ—­μ „ (IoC)

- κΈ°μ΅΄ ν”„λ΅κ·Έλ¨μ€ ν΄λΌμ΄μ–ΈνΈ κµ¬ν„κ°μ²΄κ°€ μ¤μ¤λ΅ ν•„μ”ν• μ„λ²„ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±, μ—°κ²°, μ‹¤ν–‰ν–λ‹¤. ν• λ§λ””λ΅ κµ¬ν„ κ°μ²΄κ°€ ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ„ μ¤μ¤λ΅ μ΅°μ •ν• κ²ƒμ΄λ‹¤. λ°λ©΄ ```AppConfig``` μƒμ„± ν›„μ—λ”
  κµ¬ν„ κ°μ²΄κ°€ μμ‹ μ λ΅μ§μ„ μ‹¤ν–‰ν•λ” μ—­ν• λ§ λ‹΄λ‹Ήν•λ‹¤. ν”„λ΅κ·Έλ¨ μ μ–΄ νλ¦„μ€ μ΄μ  AppConfigκ°€ κ°€μ Έκ°„λ‹¤. μ΄λ ‡κ² ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ„ μ§μ ‘ μ μ–΄ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μ™Έλ¶€μ—μ„ κ΄€λ¦¬ν•λ”
  κ²ƒμ„ ```'μ μ–΄μ μ—­μ „'```μ΄λΌκ³  ν•λ‹¤.
- ν”„λ μ„μ›ν¬ vs λΌμ΄λΈλ¬λ¦¬? <br />
    - ν”„λ μ„μ›ν¬κ°€ λ‚΄κ°€ μ‘μ„±ν• μ½”λ“λ¥Ό μ μ–΄ν•κ³  λ€μ‹  μ‹¤ν–‰ν•λ©΄ ν”„λ μ„μ›ν¬.(JUnit)
    - λ‚΄κ°€ μ‘μ„±ν• μ½”λ“κ°€ μ§μ ‘ μ μ–΄μ νλ¦„μ„ λ‹΄λ‹Ήν•λ‹¤λ©΄ λΌμ΄λΈλ¬λ¦¬.

2. μμ΅΄κ΄€κ³„ μ£Όμ… (DI)

- μ• ν”λ¦¬μΌ€μ΄μ… ```μ‹¤ν–‰ μ‹μ (λ°νƒ€μ„)```μ— μ™Έλ¶€μ—μ„ μ‹¤μ  κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  ν΄λΌμ΄μ–ΈνΈμ— μ „λ‹¬ν•΄μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ μ‹¤μ  μμ΅΄κ΄€κ³„κ°€ μ—°κ²°λλ” κ²ƒμ„ ```μμ΅΄κ΄€κ³„ μ£Όμ…```μ΄λΌκ³  ν•λ‹¤.
- κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•κ³  κ·Έ μ°Έμ΅°κ°’μ„ μ „λ‹¬ν•΄μ„ μ—°κ²°λλ‹¤.
- μμ΅΄κ΄€κ³„ μ£Όμ…μ„ μ‚¬μ©ν•λ©΄, ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ³€κ²½ν•μ§€ μ•κ³ , ν΄λΌμ΄μ–ΈνΈκ°€ νΈμ¶ν•λ” λ€μƒμ νƒ€μ… μΈμ¤ν„΄μ¤λ¥Ό λ³€κ²½ν•  μ μλ‹¤.
- μ •μ μΈ ν΄λμ¤ μμ΅΄κ΄€κ³„λ¥Ό λ³€κ²½ν•μ§€ μ•κ³ (ν‘λ©΄μ μΈ μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“), λ™μ μΈ κ°μ²΄ μΈμ¤ν„΄μ¤ μμ΅΄κ΄€κ³„λ¥Ό μ‰½κ² λ³€κ²½ν•  μ μλ‹¤.
    + ```λ™μ μΈ κ°μ²΄ μΈμ¤ν„΄μ¤ μμ΅΄ κ΄€κ³„``` = μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ μ‹μ μ— μ‹¤μ  μƒμ„±λ κ°μ²΄ μΈμ¤ν„΄μ¤μ μ°Έμ΅°κ°€ μ—°κ²°λ μμ΅΄ κ΄€κ³„.

3. IoC μ»¨ν…μ΄λ„, DI μ»¨ν…μ΄λ„

- ```AppConfig```μ²λΌ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ν•λ©΄μ„ μμ΅΄κ΄€κ³„λ¥Ό μ—°κ²°ν•΄ μ£Όλ” κ²ƒμ„ ```IoC μ»¨ν…μ΄λ„```λλ”```DI μ»¨ν…μ΄λ„``` λΌκ³  ν•λ‹¤.
- μ£Όμ…κ΄€κ³„ μ£Όμ…μ— μ΄μ²¨μ„ λ§μ¶”μ–΄ μµκ·Όμ—λ” μ£Όλ΅ DI μ»¨ν…μ΄λ„λΌκ³  ν•λ‹¤. 